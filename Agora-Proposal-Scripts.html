<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agora.Proposal.Scripts</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">agora-0.1</span><ul class="links" id="page-menu"><li><a href="src/Agora.Proposal.Scripts.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Maintainer</th><td>emi@haskell.fyi</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agora.Proposal.Scripts</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Plutus Scripts for Proposals.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:proposalValidator">proposalValidator</a> :: <a href="Agora-Proposal.html#t:Proposal" title="Agora.Proposal">Proposal</a> -&gt; <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Internal.html#t:ClosedTerm" title="Plutarch.Internal">ClosedTerm</a> <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Api-V1.html#t:PValidator" title="Plutarch.Api.V1">PValidator</a></li><li class="src short"><a href="#v:proposalPolicy">proposalPolicy</a> :: <a href="Agora-Proposal.html#t:Proposal" title="Agora.Proposal">Proposal</a> -&gt; <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Internal.html#t:ClosedTerm" title="Plutarch.Internal">ClosedTerm</a> <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Api-V1.html#t:PMintingPolicy" title="Plutarch.Api.V1">PMintingPolicy</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:proposalValidator" class="def">proposalValidator</a> :: <a href="Agora-Proposal.html#t:Proposal" title="Agora.Proposal">Proposal</a> -&gt; <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Internal.html#t:ClosedTerm" title="Plutarch.Internal">ClosedTerm</a> <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Api-V1.html#t:PValidator" title="Plutarch.Api.V1">PValidator</a> <a href="src/Agora.Proposal.Scripts.html#proposalValidator" class="link">Source</a> <a href="#v:proposalValidator" class="selflink">#</a></p><div class="doc"><p>The validator for Proposals.</p><p>The documentation for various of the redeemers lives at <code><a href="Agora-Proposal.html#v:ProposalRedeemer" title="Agora.Proposal">ProposalRedeemer</a></code>.</p><h2>What this validator does</h2><h3>Voting/unlocking</h3><p>When voting and unlocking, the proposal must witness a state transition
occuring in the relevant Stake. This transition must place a lock on
the stake that is tagged with the right <code><a href="Agora-Proposal.html#v:ResultTag" title="Agora.Proposal">ResultTag</a></code>, and <code><a href="Agora-Proposal.html#v:ProposalId" title="Agora.Proposal">ProposalId</a></code>.</p><h3>Periods</h3><p>Most redeemers are time-sensitive.</p><p>A list of all time-sensitive redeemers and their requirements:</p><ul><li><code><a href="Agora-Proposal.html#v:Vote" title="Agora.Proposal">Vote</a></code> can only be used when both the status is in <code><a href="Agora-Proposal.html#v:VotingReady" title="Agora.Proposal">VotingReady</a></code>,
  and <code><a href="Agora-Proposal-Time.html#v:isVotingPeriod" title="Agora.Proposal.Time">isVotingPeriod</a></code> is true.</li><li><code><a href="Agora-Proposal.html#v:Cosign" title="Agora.Proposal">Cosign</a></code> can only be used when both the status is in <code><a href="Agora-Proposal.html#v:Draft" title="Agora.Proposal">Draft</a></code>,
  and <code><a href="Agora-Proposal-Time.html#v:isDraftPeriod" title="Agora.Proposal.Time">isDraftPeriod</a></code> is true.</li><li><code><a href="Agora-Proposal.html#v:AdvanceProposal" title="Agora.Proposal">AdvanceProposal</a></code> can only be used when the status can be advanced
  (see <code><a href="Agora-Proposal.html#v:AdvanceProposal" title="Agora.Proposal">AdvanceProposal</a></code> docs).</li><li><code><a href="Agora-Proposal.html#v:Unlock" title="Agora.Proposal">Unlock</a></code> is always valid.</li></ul></div></div><div class="top"><p class="src"><a id="v:proposalPolicy" class="def">proposalPolicy</a> :: <a href="Agora-Proposal.html#t:Proposal" title="Agora.Proposal">Proposal</a> -&gt; <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Internal.html#t:ClosedTerm" title="Plutarch.Internal">ClosedTerm</a> <a href="file:///nix/store/1v7fbvqpp06pvnwc34lj43v8axg7yqwd-plutarch-lib-plutarch-1.1.0-haddock-doc/share/doc/plutarch/html/Plutarch-Api-V1.html#t:PMintingPolicy" title="Plutarch.Api.V1">PMintingPolicy</a> <a href="src/Agora.Proposal.Scripts.html#proposalPolicy" class="link">Source</a> <a href="#v:proposalPolicy" class="selflink">#</a></p><div class="doc"><p>Policy for Proposals.</p><h2>What this policy does</h2><h3>For minting:</h3><ul><li>Governor is happy with mint.</li></ul><ul><li>The governor must do most of the checking for the validity of the
       transaction. For example, the governor must check that the datum
       is correct, and that the ST is correctly paid to the right validator.</li><li>Exactly 1 token is minted.</li></ul><h3>For burning:</h3><ul><li>This policy cannot be burned.</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>